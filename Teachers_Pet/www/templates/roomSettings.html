<ion-view title="Room Settings" id="page9" >
  <ion-content padding="true" class="has-header" style="top: 0px; margin-top: 44px;">
    <div id="roomSettings-markdown6" class="show-list-numbers-and-dots">
      <p>Room Code: {{room.code}}</p>
      <p>Teacher Code: {{room.admin_code}}</p>
    </div>
    
    <!-- room details form -->
    <form name="roomDetailsForm" class="list" novalidate>  
      <!-- Room name input -->
      <label class="item item-input">
        <i class="icon ion-medkit placeholder-icon" style="padding-right: 1em; "></i>
        <input id="room-name-input" type="text" placeholder="Enter the name of your room" ng-model="formData.roomName" required type="text" ng-minlength="2" ng-maxlength="25">
      </label>
      
      <!-- Room description input -->
      <label class="item item-input">
        <i class="icon ion-funnel placeholder-icon" style="padding-right: 1em; "></i>
        <input id="room-description-input" type="text" placeholder="Enter a description for the room" ng-model="formData.description" required type="text" ng-minlength="12" ng-maxlength="140">
      </label>
      
      <!-- Room categories input THIS IS DISABLED IN A BIT OF A HACKY WAY-->
      <div id="sub-label" class="item item-input">
        <i class="icon ion-happy placeholder-icon" style="padding-right: 1em; "></i>
        <input id="room-subject-input" name="sub_input" type="text" placeholder="Enter a subject" ng-model="formData.subject" type="text">
        <a ng-disabled="formData.subject.length < 2 || formData.subject.length > 32" ng-click="addSubject()" class="button button-icon icon ion-ios-plus-outline"></a>
      </div>
    </form>  


    <!-- Spacer -->
    <div class="spacer" style="margin-top: 5%;"></div>

    <!-- Category list -->
    <ion-list id="subjectList">
      <ion-item ng-style="{'background-color': getSubjectColor(subject)}" class="item item-input item-icon-right" ng-repeat="subject in subjects track by $index">
        {{subject}}
        <a class="button button-icon icon ion-ios-minus-outline" ng-click="removeSubject($index)"></a>
      </ion-item>
    </ion-list>

    <!-- refresh button-->
    <div class="button icon-right ion-android-sync button-block" ng-disabled="nothingHasChanged || (roomDetailsForm.$invalid && formData.subject.length >= 2) || subjects.length === 0" ng-click="applyChanges()">Apply Changes</div>
    <!-- leave/delete button-->
    <a ui-sref="entryPage" class="button icon-right ion-android-walk button-assertive button-block">[Delete/Leave] Room</a>
    


  </ion-content>
</ion-view>

<!-- Bottom tab bar for teachers -->
<teachers-pet-tab-bar page="roomSettings", template="templates/teacherTab.html"></teachers-pet-tab-bar>